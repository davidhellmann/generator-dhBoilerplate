{#
  Image Cover
  ===========
#}

{# Set Vars #}
{% set classname = name is defined and name is not empty ? name : 'm-imageCover' %}
{% set image = data.singleImage.first() is defined ? data.singleImage.first() %}
{% set settings = data.settingsImageCover is defined ? data.settingsImageCover %}
{% set position = settings.backgroundPosition is defined and settings.backgroundPosition == 'focalpoint' ? image.settingsFocalPoint : settings.backgroundPosition.value %}
{% set textAlignment = settings.textAlignment is defined and settings.textAlignment != 'default' ? '  ' ~ classname ~ '--text-' ~ settings.textAlignment %}
{% set textVerticalPosition = settings.textVerticalPosition is defined and settings.textVerticalPosition != 'default' ? '  ' ~ classname ~ '--vPosition-' ~ settings.textVerticalPosition %}
{% set title = data.singleText %}

{# Modul #}
<div class="m-figure__imageBackground  {{ classname }}{{ textAlignment }}{{ textVerticalPosition }}">
  {% set options = {
    background: true,
    position: position,
    dominantColor: true
  } %}

  {{ macroResImage.resImage(image, options) }}

  <div class="{{ classname ~ '__titleWrapper' }}">
    <div class="{{ classname ~ '__title' }}">
      {{ title }}
    </div>
  </div>
</div>

