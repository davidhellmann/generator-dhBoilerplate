{#
  Button
  ======
#}

{# Set Vars #}
{% set classname = name is defined and name is not empty ? name : 'm-button' %}
{% set button = data.singleButton is defined ? data.singleButton %}
{% set settings = data.settingsButton is defined ? data.settingsButton %}
{% set alignment = settings.alignment is defined ? '  ' ~ classname ~ '--' ~ settings.alignment : '' %}
{% set style = settings.style is defined ? '  ' ~ classname ~ '--' ~ settings.style : '' %}
{% set target = button.target is defined and button.target ? ' target=_blank' : '' %}
{% set withIcon = settings.withIcon is defined ? settings.withIcon %}
{% set icon = settings.icon is defined ? settings.icon %}

{% set defaults = {
    classname: button ? classname : 'm-button',
    url: button ? button.url : url,
    target: button ? target : targetBlank ? ' target="_blank',
    style: button ? style : style,
    alignment: button ? alignment : alignment,
    withIcon: button ? withIcon : withIcon,
    icon: button ? icon : icon,
    text: button ? button.text : text
} %}

{% set options = options ? defaults|merge(options) : defaults %}

{# Modul #}
<a itemprop="url"
   role="button"
   href="{{ options.url }}" {{ options.target }}
   class="{{ options.classname }}{{ options.style }}{{ options.alignment }}">
    {{ options.text }}
    {% if options.withIcon %}
        {% include '_svg/' ~ options.icon ~ '.svg.html' %}
    {% endif %}
</a>